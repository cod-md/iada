<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ | Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø±Ø­ÙŠÙ…</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        :root {
            --primary-color: #007bff;
            --primary-hover: #0056b3;
            --success-color: #28a745;
            --success-hover: #218838;
            --danger-color: #dc3545;
            --bg-color: #f8f9fa;
            --container-bg: #ffffff;
            --text-color: #343a40;
            --light-text-color: #6c757d;
            --border-color: #dee2e6;
            --input-bg: #fdfdff;
            --border-radius: 10px;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            color: var(--text-color);
        }

        .container {
            background-color: var(--container-bg);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
            max-width: 550px;
            width: 100%;
            border-top: 5px solid var(--primary-color);
        }

        .header {
            margin-bottom: 30px;
        }
        .header .icon {
            font-size: 3em;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        h1 {
            color: var(--text-color);
            margin: 0;
            font-size: 2em;
            font-weight: 700;
        }

        .form-group {
            margin-bottom: 25px;
            text-align: right;
            animation: fadeIn 0.6s ease-out;
        }
        .input-wrapper {
            position: relative;
        }
        .input-wrapper i {
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            color: var(--light-text-color);
            font-size: 1.1em;
            pointer-events: none;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-color);
            font-weight: 500;
            font-size: 1.1em;
        }

        select, input[type="text"] {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            box-sizing: border-box;
            font-size: 16px;
            font-family: 'Tajawal', sans-serif;
            background-color: var(--input-bg);
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%236c757d' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: left 1rem center;
            background-size: 1em;
            padding-left: 40px;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }

        button[type="submit"] {
            background-color: var(--success-color);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 18px;
            font-weight: 700;
            width: 100%;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        button[type="submit"]:hover:not(:disabled) {
            background-color: var(--success-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.25);
        }
        button[type="submit"]:disabled {
            background: #aaa;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .clinic-info {
            margin-top: 35px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }
        .clinic-info .info-item {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            text-align: right;
            font-size: 1.1em;
            color: var(--light-text-color);
        }
        .clinic-info .info-item:not(:first-child) {
            margin-top: 15px;
        }
        .clinic-info .info-item i {
            color: var(--primary-color);
            font-size: 1.3em;
            margin-left: 15px;
            width: 25px;
        }
        .clinic-info .info-item i.fa-location-dot { color: var(--danger-color); }
        .clinic-info a {
            color: var(--light-text-color);
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }
        .clinic-info a:hover {
            color: var(--primary-hover);
            text-decoration: underline;
        }

        .message {
            display: none;
            margin-top: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            font-weight: 500;
            font-size: 1.1em;
            line-height: 1.6;
            border-width: 1px;
            border-style: solid;
        }
        .message.success {
            background-color: #eaf6ec;
            color: #1c6c2e;
            border-color: #bce3c5;
        }
        .message.error {
            background-color: #fbebee;
            color: #a52834;
            border-color: #f5c6cb;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="icon"><i class="fa-solid fa-calendar-check"></i></div>
            <h1>Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ ÙÙŠ Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ø± Ø±Ø­ÙŠÙ…</h1>
        </div>
        
        <form id="booking-form" novalidate>
            <div class="form-group">
                <label for="doctor-select">Ø§Ø®ØªØ± Ø§Ù„Ø·Ø¨ÙŠØ¨</label>
                <div class="input-wrapper">
                    <i class="fa-solid fa-user-doctor"></i>
                    <select id="doctor-select" name="doctor">
                        <option value="" disabled selected>-- ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø·Ø¨ÙŠØ¨ --</option>
                        <option value="Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø±Ø­ÙŠÙ… ÙƒØ±ÙŠÙ…">Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø±Ø­ÙŠÙ… ÙƒØ±ÙŠÙ…</option>
                        <option value="Ø§Ù„Ø¯ÙƒØªÙˆØ±Ø© Ø³Ø±Ù‰ Ø³Ø¹Ø¯ÙˆÙ† Ø®Ø²Ø¹Ù„" disabled>Ø§Ù„Ø¯ÙƒØªÙˆØ±Ø© Ø³Ø±Ù‰ Ø³Ø¹Ø¯ÙˆÙ† Ø®Ø²Ø¹Ù„ (Ù…Ø¬Ø§Ø²Ø© Ø­Ø§Ù„ÙŠØ§)</option>
                    </select>
                </div>
            </div>

            <div class="form-group" id="day-group" style="display: none;">
                <label for="day-select">Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ…</label>
                <div class="input-wrapper">
                    <i class="fa-solid fa-calendar-day"></i>
                    <select id="day-select" name="day"></select>
                </div>
            </div>
            
            <div class="form-group" id="time-group" style="display: none;">
                <label for="time-select">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¹Ø¯</label>
                <div class="input-wrapper">
                    <i class="fa-solid fa-clock"></i>
                    <select id="time-select" name="time"></select>
                </div>
            </div>

            <div id="patient-details" style="display: none; animation: fadeIn 0.6s ease-out;">
                <div class="form-group">
                    <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ</label>
                    <div class="input-wrapper">
                         <i class="fa-solid fa-user"></i>
                        <input type="text" id="name" name="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„ Ù‡Ù†Ø§" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <div class="input-wrapper">
                        <i class="fa-solid fa-mobile-screen-button"></i>
                        <input type="text" id="phone" name="phone" placeholder="Ù…Ø«Ø§Ù„: 07712345678" required pattern="07[0-9]{9}" title="ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙƒÙˆÙ† Ø§Ù„Ø±Ù‚Ù… Ù…Ù† 11 Ø®Ø§Ù†Ø© ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 07" maxlength="11" inputmode="tel">
                    </div>
                </div>
                <button type="submit" id="submit-button">
                    <span class="button-text">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</span>
                    <div class="spinner"></div>
                </button>
            </div>
        </form>

        <div id="form-message" class="message"></div>

        <div class="clinic-info">
             <div class="info-item">
                <i class="fa-solid fa-location-dot"></i>
                <a href="https://www.google.com/maps/search/?api=1&query=Baqubah,+Diyala,+Iraq" target="_blank" rel="noopener noreferrer">
                    <span>Ø¨Ø¹Ù‚ÙˆØ¨Ø© - Ø´Ø§Ø±Ø¹ Ø§Ù„Ø§Ø·Ø¨Ø§Ø¡ - Ù…Ù‚Ø§Ø¨Ù„ ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„ÙˆØ·Ù†</span>
                </a>
            </div>
            <div class="info-item">
                <i class="fa-solid fa-phone"></i>
                <span><a href="tel:07733338434">07733338434</a></span>
            </div>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- !!! Ù‡Ø§Ù… Ø¬Ø¯Ø§Ù‹: Ø£Ø¯Ø®Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØª Ù‡Ù†Ø§ !!! ---
        const BOT_TOKEN = 'Ø¶Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø¨ÙˆØª Ù‡Ù†Ø§'; //  Example: '123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11'
        const CHAT_ID = 'Ø¶Ø¹ Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù‡Ù†Ø§';      //  Example: '123456789'
        // ---------------------------------------------------

        const form = document.getElementById('booking-form');
        const doctorSelect = document.getElementById('doctor-select');
        const dayGroup = document.getElementById('day-group');
        const daySelect = document.getElementById('day-select');
        const timeGroup = document.getElementById('time-group');
        const timeSelect = document.getElementById('time-select');
        const patientDetails = document.getElementById('patient-details');
        const submitButton = document.getElementById('submit-button');
        const buttonText = submitButton.querySelector('.button-text');
        const spinner = submitButton.querySelector('.spinner');
        const formMessage = document.getElementById('form-message');
        const phoneInput = document.getElementById('phone');
        const nameInput = document.getElementById('name');

        const appointments = {
            'Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø±Ø­ÙŠÙ… ÙƒØ±ÙŠÙ…': {
                days: ['Ø§Ù„Ø³Ø¨Øª', 'Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©'],
                times: ['4:00 Ù…Ø³Ø§Ø¡Ù‹', '4:30 Ù…Ø³Ø§Ø¡Ù‹', '5:00 Ù…Ø³Ø§Ø¡Ù‹', '5:30 Ù…Ø³Ø§Ø¡Ù‹', '6:00 Ù…Ø³Ø§Ø¡Ù‹', '6:30 Ù…Ø³Ø§Ø¡Ù‹', '7:00 Ù…Ø³Ø§Ø¡Ù‹', '7:30 Ù…Ø³Ø§Ø¡Ù‹']
            },
            'Ø§Ù„Ø¯ÙƒØªÙˆØ±Ø© Ø³Ø±Ù‰ Ø³Ø¹Ø¯ÙˆÙ† Ø®Ø²Ø¹Ù„': {
                days: ['Ø§Ù„Ø³Ø¨Øª', 'Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³'],
                times: ['10:00 ØµØ¨Ø§Ø­Ø§Ù‹', '10:30 ØµØ¨Ø§Ø­Ø§Ù‹', '11:00 ØµØ¨Ø§Ø­Ø§Ù‹', '11:30 ØµØ¨Ø§Ø­Ø§Ù‹']
            }
        };

        function resetSelect(selectElement, defaultText) {
            selectElement.innerHTML = '';
            const defaultOption = document.createElement('option');
            defaultOption.textContent = defaultText;
            defaultOption.value = '';
            defaultOption.disabled = true;
            defaultOption.selected = true;
            selectElement.appendChild(defaultOption);
        }

        function updateFormVisibility() {
            const selectedDoctor = doctorSelect.value;
            const selectedDay = daySelect.value;
            const selectedTime = timeSelect.value;

            if (!selectedDoctor) {
                dayGroup.style.display = 'none';
                timeGroup.style.display = 'none';
                patientDetails.style.display = 'none';
                resetSelect(daySelect, '-- Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… --');
                resetSelect(timeSelect, '-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ‚Øª --');
                return;
            }

            if (daySelect.options.length <= 1 || daySelect.dataset.doctor !== selectedDoctor) {
                resetSelect(daySelect, '-- Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… --');
                const doctorData = appointments[selectedDoctor];
                doctorData.days.forEach(day => {
                    const option = document.createElement('option');
                    option.textContent = day; 
                    option.value = day;
                    daySelect.appendChild(option);
                });
                daySelect.dataset.doctor = selectedDoctor;
            }
            dayGroup.style.display = 'block';

            if (!selectedDay) {
                timeGroup.style.display = 'none';
                patientDetails.style.display = 'none';
                resetSelect(timeSelect, '-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ‚Øª --');
                return;
            }
            
            if (timeSelect.options.length <= 1 || timeSelect.dataset.day !== selectedDay) {
                resetSelect(timeSelect, '-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ‚Øª --');
                const doctorData = appointments[selectedDoctor];
                doctorData.times.forEach(time => {
                    const option = document.createElement('option');
                    option.textContent = time; 
                    option.value = time;
                    timeSelect.appendChild(option);
                });
                timeSelect.dataset.day = selectedDay;
            }
            timeGroup.style.display = 'block';

            patientDetails.style.display = selectedTime ? 'block' : 'none';
        }

        doctorSelect.addEventListener('change', updateFormVisibility);
        daySelect.addEventListener('change', updateFormVisibility);
        timeSelect.addEventListener('change', updateFormVisibility);

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            formMessage.style.display = 'none';
            
            // Basic validation
            if (!nameInput.value.trim() || !phoneInput.value.trim()) {
                 formMessage.textContent = 'Ø®Ø·Ø£: ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ.';
                formMessage.className = 'message error';
                formMessage.style.display = 'block';
                return;
            }

            const phoneRegex = /^07\d{9}$/; 
            if (!phoneRegex.test(phoneInput.value)) {
                formMessage.textContent = 'Ø®Ø·Ø£: Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙƒÙˆÙ† Ù…Ù† 11 Ø®Ø§Ù†Ø© Ø¨Ø§Ù„Ø¶Ø¨Ø· ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø±Ù‚Ù… 07.';
                formMessage.className = 'message error';
                formMessage.style.display = 'block';
                phoneInput.focus();
                return; 
            }

            submitButton.disabled = true;
            buttonText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            spinner.style.display = 'block';
            
            // Prepare data for Telegram
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            const message = `
ğŸ‰ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯! ğŸ‰
-----------------------------------
ğŸ‘¨â€âš•ï¸ Ø§Ù„Ø·Ø¨ÙŠØ¨: ${data.doctor}
ğŸ“… Ø§Ù„ÙŠÙˆÙ…: ${data.day}
â° Ø§Ù„ÙˆÙ‚Øª: ${data.time}
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.name}
ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${data.phone}
-----------------------------------
            `;
            
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.ok) {
                    formMessage.textContent = 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­. Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„Ù„ØªØ£ÙƒÙŠØ¯.';
                    formMessage.className = 'message success';
                    form.reset();
                    doctorSelect.selectedIndex = 0;
                    updateFormVisibility();
                } else {
                    throw new Error(data.description || 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù….');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                formMessage.textContent = `Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰. (${error.message})`;
                formMessage.className = 'message error';
            })
            .finally(() => {
                formMessage.style.display = 'block';
                submitButton.disabled = false;
                buttonText.textContent = 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²';
                spinner.style.display = 'none';
            });
        });
    });
</script>
</body>
</html>

